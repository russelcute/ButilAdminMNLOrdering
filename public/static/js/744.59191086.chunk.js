"use strict";(self.webpackChunkbutil_admin=self.webpackChunkbutil_admin||[]).push([[744],{9267:function(e,n,t){t.d(n,{H:function(){return o}});var r=t(5671),i=t(3144),a=function(){function e(n){(0,r.Z)(this,e),this.product=void 0,this.product=n}return(0,i.Z)(e,[{key:"getProduct",value:function(){return this.product}},{key:"setImage",value:function(e){this.product.image=e}}]),e}();function o(e){var n=e.data(),t={productId:e.id,categoryId:n.categoryId,content:n.content,description:n.description,image:n.image,name:n.name,price:n.price,promo:n.promo,stocks:n.stocks,storageLife:n.storageLife,type:n.type};return new a(t)}n.Z=a},2911:function(e,n,t){t(2791);var r=t(7621),i=t(1889),a=t(7391),o=t(3466),s=t(4518),u=t(8530),c=t(890),d=t(184);n.Z=function(e){var n=e.productInfo,t=e.onTextChange,l=e.onNumberChange,m=e.onSubmitForm,h=e.error,p=n.categoryId,f=n.content,x=n.description,g=n.name,Z=n.price,j=n.promo,v=n.stocks,b=n.storageLife,y=n.type;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.Z,{sx:{width:"100%",padding:3},children:(0,d.jsx)("form",{onSubmit:function(e){return m(e)},children:(0,d.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"name",label:"Product Name",variant:"outlined",value:g,onChange:function(e){return t(e)}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"price",type:"number",label:"Price",variant:"outlined",value:Z,onChange:function(e){return l(e)},InputProps:{startAdornment:(0,d.jsx)(o.Z,{position:"start",children:"\u20b1"})}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"stocks",type:"number",label:"Stocks",variant:"outlined",value:v,onChange:function(e){return l(e)}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"content",type:"number",label:"Content",variant:"outlined",value:f,onChange:function(e){return l(e)},InputProps:{endAdornment:(0,d.jsx)(o.Z,{position:"end",children:"grams"})}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"promo",type:"number",label:"Promo",variant:"outlined",value:j,onChange:function(e){return l(e)},InputProps:{endAdornment:(0,d.jsx)(o.Z,{position:"end",children:"%"})}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"storageLife",type:"number",label:"Storage Life",variant:"outlined",value:b,onChange:function(e){return l(e)},InputProps:{endAdornment:(0,d.jsx)(o.Z,{position:"end",children:"days"})}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"categoryId",label:"Category",variant:"outlined",value:p,onChange:function(e){return t(e)}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:6,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,name:"type",label:"Type",variant:"outlined",value:y,onChange:function(e){return t(e)}})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,d.jsx)(a.Z,{fullWidth:!0,required:!0,multiline:!0,rows:3,name:"description",label:"Description",variant:"outlined",value:x,onChange:function(e){return t(e)}})}),null!==h&&(0,d.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,d.jsx)(u.Z,{component:"div",sx:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f294a5",height:50,width:"100%",filter:"brightness(85%)"},children:(0,d.jsx)(c.Z,{variant:"h5",align:"center",color:"white",children:"Image is required!"})})}),(0,d.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,d.jsx)(s.Z,{type:"submit",variant:"contained",fullWidth:!0,children:"SAVE PRODUCT"})})]})})})})}},258:function(e,n,t){var r=t(885),i=t(2791),a=t(7621),o=t(8530),s=t(4518),u=t(9396),c=t(33),d=t(184),l=(0,c.ZP)("img")({top:0,width:"100%",height:"100%",objectFit:"cover",position:"absolute"});n.Z=function(e){var n=e.imageFile,t=e.onImageChange,c=e.defaultImage,m=i.useState(null),h=(0,r.Z)(m,2),p=h[0],f=h[1];return i.useEffect((function(){if(null!==n){var e=new FileReader;e.readAsDataURL(n),e.onloadend=function(n){f([e.result])}}}),[n]),(0,d.jsx)(a.Z,{sx:{width:"100%"},children:(0,d.jsxs)(o.Z,{sx:{pt:"100%",position:"relative"},children:[(0,d.jsx)(l,{alt:"product image",src:p||c}),(0,d.jsxs)(s.Z,{variant:"contained",component:"label",startIcon:(0,d.jsx)(u.Z,{}),sx:{zIndex:9,bottom:16,right:16,position:"absolute",textTransform:"uppercase"},children:["Upload Image",(0,d.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return t(e)},hidden:!0})]})]})})}},7744:function(e,n,t){t.r(n);var r=t(5861),i=t(4942),a=t(1413),o=t(885),s=t(7757),u=t.n(s),c=t(2791),d=t(6907),l=t(1889),m=t(6445),h=t(8530),p=t(890),f=t(4518),x=t(3400),g=t(5193),Z=t(6871),j=t(4569),v=t.n(j),b=t(9062),y=t(376),C=t(9267),w=t(9823),P=t(258),I=t(2911),k=t(184);n.default=function(){var e=(0,c.useState)({categoryId:"",content:0,description:"",image:"",name:"",price:0,promo:0,stocks:0,storageLife:0,type:""}),n=(0,o.Z)(e,2),t=n[0],s=n[1],j=(0,c.useState)(null),S=(0,o.Z)(j,2),q=S[0],F=S[1],L=(0,c.useState)(null),z=(0,o.Z)(L,2),W=z[0],T=z[1],_=(0,y.h)().database,A=(0,Z.s0)();function M(){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",q),n.append("upload_preset","yys2sx1c"),n.append("cloud_name","nathanalz"),e.next=6,v().post("https://api.cloudinary.com/v1_1/nathanalz/image/upload",n);case 6:return t=e.sent,r=t.data.url,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,r.Z)(u().mark((function e(n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),q){e.next=5;break}T("Image is required!"),e.next=12;break;case 5:return e.next=7,M();case 7:r=e.sent,(i=new C.Z(t)).setImage(r.replace("http:","https:")),a=(0,b.JU)((0,b.hJ)(_,"products")),(0,b.pl)(a,i.getProduct()).then((function(e){A("/dashboards/products")})).catch((function(e){console.log(e.message)}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=(0,g.Z)("(min-width:600px)");return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.q,{children:(0,k.jsx)("title",{children:"Create Product"})}),(0,k.jsxs)(m.Z,{sx:{mb:5},children:[(0,k.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:5,marginBottom:3},children:[(0,k.jsx)(p.Z,{variant:"h1",color:"primary",children:"Create Product"}),H?(0,k.jsx)(f.Z,{variant:"contained",color:"error",startIcon:(0,k.jsx)(w.Z,{}),onClick:function(e){return A("/dashboards/products")},children:"Cancel"}):(0,k.jsx)(x.Z,{onClick:function(e){return A("/dashboards/products")},color:"error",children:(0,k.jsx)(w.Z,{})})]}),(0,k.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,k.jsx)(P.Z,{imageFile:q,onImageChange:function(e){return function(e){T(null),F(e.target.files[0])}(e)},defaultImage:"https://res.cloudinary.com/nathanalz/image/upload/v1641871922/ButilMNL/sample_img_ve55kv.png"})}),(0,k.jsx)(l.ZP,{item:!0,xs:12,md:8,children:(0,k.jsx)(I.Z,{productInfo:t,onTextChange:function(e){return function(e){s((0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},e.target.name,e.target.value)))}(e)},onNumberChange:function(e){return function(e){s((0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},e.target.name,isNaN(parseFloat(e.target.value))?"":parseFloat(e.target.value))))}(e)},onSubmitForm:function(e){return function(e){return D.apply(this,arguments)}(e)},error:W})})]})]})]})}},9396:function(e,n,t){var r=t(5318);n.Z=void 0;var i=r(t(5649)),a=t(184),o=(0,i.default)([(0,a.jsx)("path",{d:"M17.7 11.53c-.7.31-1.45.47-2.21.47C12.46 12 10 9.53 10 6.5c0-.17.01-.34.03-.5H4v14h14v-8.17l-.3-.3zM5.5 18l2.75-3.53 1.96 2.36 2.75-3.54L16.5 18h-11z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"m10.21 16.83-1.96-2.36L5.5 18h11l-3.54-4.71zM20 6.5C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89c.44-.7.7-1.51.7-2.39zM15.5 9C14.12 9 13 7.88 13 6.5S14.12 4 15.5 4 18 5.12 18 6.5 16.88 9 15.5 9zM18 20H4V6h6.03c.06-.72.27-1.39.58-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.17l-2-2V20z"},"1")],"ImageSearchTwoTone");n.Z=o}}]);
//# sourceMappingURL=744.59191086.chunk.js.map